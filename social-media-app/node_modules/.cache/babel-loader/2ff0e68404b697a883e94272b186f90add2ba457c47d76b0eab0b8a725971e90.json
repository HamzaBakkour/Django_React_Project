{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nfunction useUserActions() {\n  _s();\n  const navigate = useNavigate();\n  const baseURL = \"http://localhost:8000/api\";\n  function login(data) {\n    return axios.post(`${baseURL}/auth/login/`, data).then(res => {\n      setUserData(data);\n      navigate(\"/\");\n    });\n  }\n  function register(data) {\n    return axios.post(`${baseURL}/auth/register`, data).then(res => {\n      setUserData(res.data);\n      navigate(\"/\");\n    });\n  }\n  function logout() {\n    localStorage.removeItem(\"auth\");\n    navigate(\"/login\");\n  }\n  return {\n    login,\n    register,\n    logout\n  };\n}\n_s(useUserActions, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\nfunction getUser() {\n  const auth = JSON.parse(localStorage.getItem(\"auth\"));\n  return auth.user;\n}\nfunction getAccessToken() {\n  const auth = JSON.parse(localStorage.getItem(\"auth\"));\n  return auth.access;\n}\nfunction getRefreshToken() {\n  const auth = JSON.parse(localStorage.getItem(\"auth\"));\n  return auth.refresh;\n}\nfunction setUserData(data) {\n  localStorage.setItem(\"auth\", JSON.stringify({\n    access: data.access,\n    refresh: data.refresh,\n    user: data.user\n  }));\n}\nexport { useUserActions, getUser, getAccessToken, getRefreshToken };","map":{"version":3,"names":["axios","useNavigate","useUserActions","_s","navigate","baseURL","login","data","post","then","res","setUserData","register","logout","localStorage","removeItem","getUser","auth","JSON","parse","getItem","user","getAccessToken","access","getRefreshToken","refresh","setItem","stringify"],"sources":["C:/Users/alexa/OneDrive/Programming/FULL_STACK_DJANGO_AND_REACT/Chapter_1/social-media-app/src/hooks/user.actions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction useUserActions() {\r\n    const navigate = useNavigate();\r\n    const baseURL = \"http://localhost:8000/api\";\r\n\r\n    function login(data) {\r\n        return axios.post(`${baseURL}/auth/login/`,\r\n        data).then((res) => {\r\n            setUserData(data);\r\n            navigate(\"/\");\r\n        })\r\n    }\r\n\r\n    function register(data){\r\n        return axios.post(`${baseURL}/auth/register`,\r\n        data).then((res) => {\r\n            setUserData(res.data);\r\n            navigate(\"/\");\r\n        });\r\n    }\r\n\r\n    function logout() {\r\n        localStorage.removeItem(\"auth\");\r\n        navigate(\"/login\");\r\n    }\r\n\r\n    return {\r\n        login,\r\n        register,\r\n        logout,\r\n    };\r\n}\r\n\r\n\r\nfunction getUser() {\r\n    const auth = JSON.parse(localStorage.getItem(\"auth\"));\r\n    return auth.user;\r\n}\r\n\r\nfunction getAccessToken(){\r\n    const auth = JSON.parse(localStorage.getItem(\"auth\"));\r\n    return auth.access;\r\n}\r\n\r\nfunction getRefreshToken() {\r\n    const auth = JSON.parse(localStorage.getItem(\"auth\"));\r\n    return auth.refresh;\r\n}\r\n\r\nfunction setUserData(data){\r\n    localStorage.setItem(\r\n        \"auth\",\r\n        JSON.stringify({\r\n            access: data.access,\r\n            refresh: data.refresh,\r\n            user: data.user,\r\n        })\r\n    );\r\n}\r\n\r\nexport {useUserActions, getUser, getAccessToken, getRefreshToken};"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EACtB,MAAMC,QAAQ,GAAGH,WAAW,CAAC,CAAC;EAC9B,MAAMI,OAAO,GAAG,2BAA2B;EAE3C,SAASC,KAAKA,CAACC,IAAI,EAAE;IACjB,OAAOP,KAAK,CAACQ,IAAI,CAAE,GAAEH,OAAQ,cAAa,EAC1CE,IAAI,CAAC,CAACE,IAAI,CAAEC,GAAG,IAAK;MAChBC,WAAW,CAACJ,IAAI,CAAC;MACjBH,QAAQ,CAAC,GAAG,CAAC;IACjB,CAAC,CAAC;EACN;EAEA,SAASQ,QAAQA,CAACL,IAAI,EAAC;IACnB,OAAOP,KAAK,CAACQ,IAAI,CAAE,GAAEH,OAAQ,gBAAe,EAC5CE,IAAI,CAAC,CAACE,IAAI,CAAEC,GAAG,IAAK;MAChBC,WAAW,CAACD,GAAG,CAACH,IAAI,CAAC;MACrBH,QAAQ,CAAC,GAAG,CAAC;IACjB,CAAC,CAAC;EACN;EAEA,SAASS,MAAMA,CAAA,EAAG;IACdC,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;IAC/BX,QAAQ,CAAC,QAAQ,CAAC;EACtB;EAEA,OAAO;IACHE,KAAK;IACLM,QAAQ;IACRC;EACJ,CAAC;AACL;AAACV,EAAA,CA9BQD,cAAc;EAAA,QACFD,WAAW;AAAA;AAgChC,SAASe,OAAOA,CAAA,EAAG;EACf,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,YAAY,CAACM,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,OAAOH,IAAI,CAACI,IAAI;AACpB;AAEA,SAASC,cAAcA,CAAA,EAAE;EACrB,MAAML,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,YAAY,CAACM,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,OAAOH,IAAI,CAACM,MAAM;AACtB;AAEA,SAASC,eAAeA,CAAA,EAAG;EACvB,MAAMP,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,YAAY,CAACM,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,OAAOH,IAAI,CAACQ,OAAO;AACvB;AAEA,SAASd,WAAWA,CAACJ,IAAI,EAAC;EACtBO,YAAY,CAACY,OAAO,CAChB,MAAM,EACNR,IAAI,CAACS,SAAS,CAAC;IACXJ,MAAM,EAAEhB,IAAI,CAACgB,MAAM;IACnBE,OAAO,EAAElB,IAAI,CAACkB,OAAO;IACrBJ,IAAI,EAAEd,IAAI,CAACc;EACf,CAAC,CACL,CAAC;AACL;AAEA,SAAQnB,cAAc,EAAEc,OAAO,EAAEM,cAAc,EAAEE,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}