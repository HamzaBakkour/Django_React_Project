{"ast":null,"code":"import _objectSpread from\"C:/Users/alexa/OneDrive/Programming/FULL_STACK_DJANGO_AND_REACT/Chapter_1/social-media-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/alexa/OneDrive/Programming/FULL_STACK_DJANGO_AND_REACT/Chapter_1/social-media-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//src/components/authentiacation/LoginForm.jsx\nimport React,{useState}from\"react\";import{Form,Button}from\"react-bootstrap\";import{useUserActions}from\"../../hooks/user.actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginForm(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),validated=_useState2[0],setValidated=_useState2[1];var _useState3=useState({username:\"\",password:\"\"}),_useState4=_slicedToArray(_useState3,2),form=_useState4[0],setForm=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var userActions=useUserActions();var hadleSubmit=function hadleSubmit(event){event.preventDefault();var loginForm=event.currentTarget;if(loginForm.checkValidity()===false){event.stopPropagation();}setValidated(true);var data={email:form.email,password:form.password};userActions.login(data).catch(function(err){if(err.message){setError(err.request.response);}});};return/*#__PURE__*/_jsxs(Form,{id:\"registration-form\",className:\"border p4 rouded\",noValidate:true,validated:validated,onSubmit:hadleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{value:form.email,onChange:function onChange(e){return setForm(_objectSpread(_objectSpread({},form),{},{email:e.target.value}));},required:true,type:\"text\",placeholder:\"Enter username\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"This filed is required.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{value:form.password,minLength:\"8\",onChange:function onChange(e){return setForm(_objectSpread(_objectSpread({},form),{},{password:e.target.value}));},required:true,type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Please provide a valid password.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-content text-danger\",children:error&&/*#__PURE__*/_jsx(\"p\",{children:error})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]});}export default LoginForm;","map":{"version":3,"names":["React","useState","Form","Button","useUserActions","jsx","_jsx","jsxs","_jsxs","LoginForm","_useState","_useState2","_slicedToArray","validated","setValidated","_useState3","username","password","_useState4","form","setForm","_useState5","_useState6","error","setError","userActions","hadleSubmit","event","preventDefault","loginForm","currentTarget","checkValidity","stopPropagation","data","email","login","catch","err","message","request","response","id","className","noValidate","onSubmit","children","Group","Label","Control","value","onChange","e","_objectSpread","target","required","type","placeholder","Feedback","minLength","variant"],"sources":["C:/Users/alexa/OneDrive/Programming/FULL_STACK_DJANGO_AND_REACT/Chapter_1/social-media-app/src/components/authentication/LoginForm.jsx"],"sourcesContent":["//src/components/authentiacation/LoginForm.jsx\r\nimport React, { useState } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { useUserActions } from \"../../hooks/user.actions\"; \r\n\r\n\r\nfunction LoginForm(){\r\n    const [validated, setValidated] = useState(false);\r\n    const [form, setForm] = useState({\r\n        username: \"\",\r\n        password: \"\",\r\n    });\r\n    const [error, setError] = useState(null);\r\n    const userActions = useUserActions();\r\n\r\n    const hadleSubmit = (event) => {\r\n        event.preventDefault();\r\n        const loginForm = event.currentTarget;\r\n        if (loginForm.checkValidity() === false) {\r\n            event.stopPropagation();\r\n        }\r\n        setValidated(true);\r\n        const data = {\r\n            email: form.email,\r\n            password: form.password,\r\n        };\r\n        userActions.login(data).catch((err) => {\r\n            if (err.message) {\r\n                setError(err.request.response);\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <Form\r\n        id = \"registration-form\"\r\n        className = \"border p4 rouded\"\r\n        noValidate\r\n        validated = {validated}\r\n        onSubmit = {hadleSubmit}>\r\n\r\n            <Form.Group className = \"mb-3\">\r\n                <Form.Label>Username</Form.Label>\r\n                <Form.Control\r\n                value = {form.email}\r\n                onChange = {\r\n                    (e) => setForm({\r\n                        ...form,\r\n                        email: e.target.value\r\n                    })\r\n                }\r\n                required\r\n                type = \"text\"\r\n                placeholder = \"Enter username\"\r\n                />\r\n                <Form.Control.Feedback type = \"invalid\">\r\n                    This filed is required.\r\n                </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control\r\n                value={form.password}\r\n                minLength=\"8\"\r\n                onChange={\r\n                    (e) => setForm({\r\n                            ...form, password: e.target.value \r\n                    })\r\n                }\r\n                required\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                    Please provide a valid password.\r\n                </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <div className = \"text-content text-danger\">\r\n                {error && <p>{error}</p>}\r\n            </div>\r\n\r\n            <Button variant = \"primary\" type = \"submit\">\r\n                Submit\r\n            </Button>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default LoginForm;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}