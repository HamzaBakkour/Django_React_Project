{"ast":null,"code":"import _objectSpread from\"C:/Users/alexa/OneDrive/Programming/FULL_STACK_DJANGO_AND_REACT/Chapter_1/social-media-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/alexa/OneDrive/Programming/FULL_STACK_DJANGO_AND_REACT/Chapter_1/social-media-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//src/components/authentication/RegistrationsForm.jsx\nimport React,{useState}from\"react\";import{Form,Button}from\"react-bootstrap\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{useUserActions}from\"../../hooks/user.actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RegistrationForm(){var navigate=useNavigate();//Will help us navigate to the home\n// page if the request is successful\n//Used to check wether the form is valid or not.\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),validated=_useState2[0],setValidated=_useState2[1];var _useState3=useState({username:\"\",email:\"\",password:\"\",first_name:\"\",last_name:\"\",bio:\"\"}),_useState4=_slicedToArray(_useState3,2),form=_useState4[0],setForm=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var userActions=useUserActions();var hadleSubmit=function hadleSubmit(event){//Blocking the default form submission behavior\n//that is, reloading the page.\nevent.preventDefault();var RegistrationForm=event.currentTarget;//Check whether the basic validations for the \n//fields are done.\nif(RegistrationForm.checkValidity()===false){event.stopPropagation();}//If the basic validations are done...\nsetValidated(true);var data={username:form.username,password:form.password,email:form.email,first_name:form.first_name,last_name:form.last_name,bio:form.bio};userActions.register(data).catch(function(err){if(err.message){setError(err.request.response);}});};return/*#__PURE__*/_jsxs(Form,{id:\"registration-form\",className:\"border p-4 rounded\",noValidate:true,validated:validated,onSubmit:hadleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"First Name\"}),/*#__PURE__*/_jsx(Form.Control,{value:form.first_name,onChange:function onChange(e){return setForm(_objectSpread(_objectSpread({},form),{},{first_name:e.target.value}));},required:true,type:\"text\",placeholder:\"Enter first name\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"This filed is required.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Last name\"}),/*#__PURE__*/_jsx(Form.Control,{value:form.last_name,onChange:function onChange(e){return setForm(_objectSpread(_objectSpread({},form),{},{last_name:e.target.value}));},required:true,type:\"text\",placeholder:\"Enter last name\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"This file is required.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{value:form.username,onChange:function onChange(e){return setForm(_objectSpread(_objectSpread({},form),{},{username:e.target.value}));},required:true,type:\"text\",placeholder:\"Enter username\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"This file is required.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{value:form.email,onChange:function onChange(e){return setForm(_objectSpread(_objectSpread({},form),{},{email:e.target.value}));},required:true,type:\"email\",placeholder:\"Enter email\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Please provide a valid email.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{value:form.password,minLength:\"8\",onChange:function onChange(e){return setForm(_objectSpread(_objectSpread({},form),{},{password:e.target.value}));},required:true,type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Please provide a valid password.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Bio\"}),/*#__PURE__*/_jsx(Form.Control,{value:form.bio,onChange:function onChange(e){return setForm(_objectSpread(_objectSpread({},form),{},{bio:e.target.value}));},as:\"textarea\",rows:3,placeholder:\"A simple bio ... (Optional)\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-content text-danger\",children:error&&/*#__PURE__*/_jsx(\"p\",{children:error})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]});}export default RegistrationForm;","map":{"version":3,"names":["React","useState","Form","Button","axios","useNavigate","useUserActions","jsx","_jsx","jsxs","_jsxs","RegistrationForm","navigate","_useState","_useState2","_slicedToArray","validated","setValidated","_useState3","username","email","password","first_name","last_name","bio","_useState4","form","setForm","_useState5","_useState6","error","setError","userActions","hadleSubmit","event","preventDefault","currentTarget","checkValidity","stopPropagation","data","register","catch","err","message","request","response","id","className","noValidate","onSubmit","children","Group","Label","Control","value","onChange","e","_objectSpread","target","required","type","placeholder","Feedback","minLength","as","rows","variant"],"sources":["C:/Users/alexa/OneDrive/Programming/FULL_STACK_DJANGO_AND_REACT/Chapter_1/social-media-app/src/components/authentication/RegistrationsForm.jsx"],"sourcesContent":["//src/components/authentication/RegistrationsForm.jsx\r\nimport React, { useState } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useUserActions } from \"../../hooks/user.actions\";\r\n\r\nfunction RegistrationForm(){\r\n    const navigate = useNavigate();//Will help us navigate to the home\r\n                                   // page if the request is successful\r\n    //Used to check wether the form is valid or not.\r\n    const [validated, setValidated] = useState(false);\r\n    const [form, setForm] = useState({\r\n        username: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        first_name: \"\",\r\n        last_name: \"\",\r\n        bio: \"\",\r\n    });\r\n    const [error, setError] = useState(null);\r\n    const userActions = useUserActions();\r\n\r\n    const hadleSubmit = (event) => {\r\n        //Blocking the default form submission behavior\r\n        //that is, reloading the page.\r\n        event.preventDefault();\r\n        const RegistrationForm = event.currentTarget;\r\n        //Check whether the basic validations for the \r\n        //fields are done.\r\n        if(RegistrationForm.checkValidity() === false) {\r\n            event.stopPropagation();\r\n        }\r\n        //If the basic validations are done...\r\n        setValidated(true);\r\n        const data = {\r\n            username: form.username,\r\n            password: form.password,\r\n            email: form.email,\r\n            first_name: form.first_name,\r\n            last_name: form.last_name,\r\n            bio: form.bio,\r\n        };\r\n\r\n        userActions.register(data).catch((err) => {\r\n            if (err.message) {\r\n                setError(err.request.response);\r\n            }\r\n        })\r\n    };\r\n\r\n\r\n    return (\r\n        <Form\r\n        id = \"registration-form\"\r\n        className = \"border p-4 rounded\"\r\n        noValidate\r\n        validated = {validated}\r\n        onSubmit = {hadleSubmit}>\r\n\r\n            <Form.Group className = \"mb-3\">\r\n                <Form.Label>First Name</Form.Label>\r\n                <Form.Control\r\n                value = {form.first_name}\r\n                onChange = \r\n                {(e) => setForm({ \r\n                    ...form,\r\n                    first_name: e.target.value})\r\n                }\r\n                required\r\n                type = \"text\"\r\n                placeholder = \"Enter first name\" />\r\n                <Form.Control.Feedback type = \"invalid\">\r\n                    This filed is required.\r\n                </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Last name</Form.Label>\r\n                <Form.Control\r\n                value={form.last_name}\r\n                onChange={(e) => \r\n                    setForm({ ...form, last_name: e.target.value })}\r\n                required\r\n                type=\"text\"\r\n                placeholder=\"Enter last name\"\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                    This file is required.\r\n                </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Username</Form.Label>\r\n                <Form.Control\r\n                value={form.username}\r\n                onChange={(e) => \r\n                    setForm({ ...form, username: e.target.value })}\r\n                required\r\n                type=\"text\"\r\n                placeholder=\"Enter username\"\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                    This file is required.\r\n                </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Email address</Form.Label>\r\n                <Form.Control\r\n                value={form.email}\r\n                onChange={(e) => \r\n                    setForm({ ...form, email: e.target.value })}\r\n                required\r\n                type=\"email\"\r\n                placeholder=\"Enter email\"\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                    Please provide a valid email.\r\n                </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control\r\n                value={form.password}\r\n                minLength=\"8\"\r\n                onChange={(e) => \r\n                    setForm({ ...form, password: e.target.value })}\r\n                required\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                    Please provide a valid password.\r\n                </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Bio</Form.Label>\r\n                <Form.Control\r\n                value={form.bio}\r\n                onChange={(e) =>\r\n                    setForm({ ...form, bio: e.target.value })}\r\n                as=\"textarea\"\r\n                rows={3}\r\n                placeholder=\"A simple bio ... (Optional)\"\r\n                />\r\n            </Form.Group>\r\n\r\n            <div className = \"text-content text-danger\">\r\n                {error && <p>{error}</p>}\r\n            </div>\r\n\r\n            <Button variant = \"primary\" type = \"submit\">\r\n                Submit\r\n            </Button>\r\n\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default RegistrationForm;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}