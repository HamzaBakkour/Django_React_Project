{"ast":null,"code":"//src/pages/Home.jsx\nimport React from\"react\";import Layout from\"../components/Layouts\";import{Row,Col,Image}from\"react-bootstrap\";import useSWR from\"swr\";import{fetcher}from\"../helpers/axios\";import{getUser}from\"../hooks/user.actions\";import CreatePost from\"../components/posts/CreatePost\";import ProfileCard from\"../components/profile/ProfileCard\";import Post from\"../components/posts/Post\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _posts$data;//Fetching posts from the server.\nvar posts=useSWR(\"/post/\",fetcher,{refreshInterval:60000});var profiles=useSWR(\"/user/?limit=5\",fetcher);var user=getUser();if(!user){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading!\"});}return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(Row,{className:\"justify-content-evenly\",children:[/*#__PURE__*/_jsxs(Col,{sm:7,children:[/*#__PURE__*/_jsxs(Row,{className:\"border rounded align-items-center\",children:[/*#__PURE__*/_jsx(Col,{className:\"flex-shring-1\",children:/*#__PURE__*/_jsx(Image,{src:user.avatar,roundedCircle:true,width:52,height:52,className:\"my-2\"})}),/*#__PURE__*/_jsx(Col,{sm:10,className:\"flex-grow-1\",children:/*#__PURE__*/_jsx(CreatePost,{refresh:posts.mutate})})]}),/*#__PURE__*/_jsx(Row,{className:\"my-4\",children:(_posts$data=posts.data)===null||_posts$data===void 0?void 0:_posts$data.results.map(function(post,index){return/*#__PURE__*/_jsx(Post,{post:post,refresh:posts.mutate},index);})})]}),/*#__PURE__*/_jsxs(Col,{sm:3,className:\"border rounded py-4 h-50\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-weight-bold text-center\",children:\"Suggested people\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-column\",children:profiles.data&&profiles.data.results.map(function(profile,index){return/*#__PURE__*/_jsx(ProfileCard,{user:profile},index);})})]})]})});}export default Home;","map":{"version":3,"names":["React","Layout","Row","Col","Image","useSWR","fetcher","getUser","CreatePost","ProfileCard","Post","jsx","_jsx","jsxs","_jsxs","Home","_posts$data","posts","refreshInterval","profiles","user","children","className","sm","src","avatar","roundedCircle","width","height","refresh","mutate","data","results","map","post","index","profile"],"sources":["C:/Users/alexa/OneDrive/Programming/FULL_STACK_DJANGO_AND_REACT/Chapter_1/social-media-app/src/pages/Home.jsx"],"sourcesContent":["//src/pages/Home.jsx\r\nimport React from \"react\";\r\nimport Layout from \"../components/Layouts\";\r\nimport { Row, Col, Image } from \"react-bootstrap\";\r\nimport useSWR from \"swr\";\r\nimport { fetcher } from \"../helpers/axios\";\r\nimport { getUser } from \"../hooks/user.actions\";\r\nimport CreatePost from \"../components/posts/CreatePost\";\r\nimport ProfileCard from \"../components/profile/ProfileCard\";\r\nimport Post from \"../components/posts/Post\";\r\n\r\n\r\nfunction Home(){\r\n    //Fetching posts from the server.\r\n    const posts = useSWR(\"/post/\", fetcher, {\r\n        refreshInterval: 60000,\r\n    });\r\n\r\n    const profiles = useSWR(\"/user/?limit=5\", fetcher);\r\n    \r\n    const user = getUser();\r\n    if(!user){\r\n        return (<div>Loading!</div>)\r\n    }\r\n\r\n\r\n    return (\r\n        <Layout>\r\n            <Row className = \"justify-content-evenly\">\r\n                <Col sm = {7}>\r\n                    <Row className = \"border rounded align-items-center\">\r\n                        <Col className = \"flex-shring-1\">\r\n                            <Image\r\n                            src = { user.avatar}\r\n                            roundedCircle\r\n                            width = {52}\r\n                            height = {52}\r\n                            className = \"my-2\"/>\r\n                        </Col>\r\n                        <Col sm = {10} className = \"flex-grow-1\">\r\n                            <CreatePost refresh = {posts.mutate}/>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className = \"my-4\">\r\n                        {posts.data?.results.map((post, index) => (\r\n                            <Post key = {index} post = {post} refresh = {posts.mutate}/>\r\n                        ))}\r\n                    </Row>\r\n                </Col>\r\n                <Col sm = {3} className = \"border rounded py-4 h-50\">\r\n                    <h4 className = \"font-weight-bold text-center\">\r\n                        Suggested people\r\n                    </h4>\r\n                    <div className = \"d-flex flex-column\">\r\n                        {profiles.data && profiles.data.results.map(\r\n                            function (profile, index) {\r\n                                                return (<ProfileCard key={index} user={profile} />);\r\n                                }\r\n                            )\r\n                        }\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}